 


  <!doctype html>
<!--
 Generated by Apache Maven Doxia  at 02/14/23  Rendered using Reflow Maven Skin 2.3.2 (http://devacfr.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">
        <head>
    <meta charset="UTF-8" />
    <title>Apache OpenMeetings Project &#x2013; VoIP and SIP Integration</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
      <meta http-equiv="content-language" content="en" />
                                                        <link href="./css/themes/cerulean/bootstrap.min.css" rel="stylesheet" />
    <link href="./css/fontawesome/all.min.css" rel="stylesheet" />
    <link href="./css/reflow-skin.css" rel="stylesheet" />
    
    <link rel="stylesheet" href="./js/styles/github.min.css" />

    <link href="./css/lightbox.css" rel="stylesheet" />
    <link href="./css/site.css" rel="stylesheet" />
    <link href="./css/print.css" rel="stylesheet" media="print" />
<link rel="stylesheet" href="./css/site.css"/>
        </head> <!-- end : head -->
<body class="page-asteriskintegration project-openmeetings-server anchorjs-enabled scrolltop-smooth-enabled m-toc-sidebar-enabled m-toc-sidebar-expanded m-toc-sidebar-autoexpandable toc-sidebar-fixed">
    <nav id="m-top-navbar" class="navbar navbar-expand-lg fixed-top navbar-dark bg-primary">
<div class="container">            <a class="navbar-brand mb-0 h1" href="index.html">
            <span class="color-highlight">Apache</span> OpenMeetings
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#top-navbar-collapse-1" aria-controls="top-navbar-collapse-1" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="top-navbar-collapse-1">
                <ul class="nav navbar-nav ml-auto">
                    <li class="nav-item " ><a  href="demo.html"  title="Demo"  class="nav-link" >Demo</a></li>
                    <li class="nav-item " ><a  href="downloads.html"  title="Download"  class="nav-link" >Download</a></li>
                    <li class="nav-item " ><a  href="https://cwiki.apache.org/confluence/display/OPENMEETINGS"  title="Wiki"   class="externalLink nav-link" >Wiki</a></li>
                    <li class="nav-item dropdown">
                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">General <b class="caret"></b></a>
                        <div class="dropdown-menu">
                            <a href="index.html" title="Home"  class="dropdown-item ">Home</a>
                            <a href="https://www.apache.org/licenses/" title="License"  class="dropdown-item ">License</a>
                            <a href="https://www.apache.org/" title="ASF"  class="dropdown-item ">ASF</a>
                            <a href="https://www.apache.org/foundation/sponsorship" title="Sponsorship"  class="dropdown-item ">Sponsorship</a>
                            <a href="https://www.apache.org/foundation/thanks" title="Thanks"  class="dropdown-item ">Thanks</a>
                            <a href="CallForLogo.html" title="Call For Logo"  class="dropdown-item ">Call For Logo</a>
                            <a href="NewsArchive.html" title="News archive"  class="dropdown-item ">News archive</a>
                            <a href="security.html" title="Security"  class="dropdown-item ">Security</a>
                            <a href="commercial-support.html" title="Commercial Support"  class="dropdown-item ">Commercial Support</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Installation <b class="caret"></b></a>
                        <div class="dropdown-menu">
                            <a href="installation.html" title="Installation"  class="dropdown-item ">Installation</a>
                            <a href="Upgrade.html" title="Upgrade"  class="dropdown-item ">Upgrade</a>
                            <a href="InstallMediaServer.html" title="Media Server Installation"  class="dropdown-item ">Media Server Installation</a>
                            <a href="https://cwiki.apache.org/confluence/display/OPENMEETINGS/Tutorials+for+installing+OpenMeetings+and+Tools" title="Tutorials"  class="dropdown-item ">Tutorials</a>
                            <a href="CommandLineAdmin.html" title="Command Line Admin"  class="dropdown-item ">Command Line Admin</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Community <b class="caret"></b></a>
                        <div class="dropdown-menu">
                            <a href="get-involved.html" title="Get Involved"  class="dropdown-item ">Get Involved</a>
                            <a href="team.html" title="Committers"  class="dropdown-item ">Committers</a>
                            <a href="OurUsers.html" title="Our Users"  class="dropdown-item ">Our Users</a>
                            <a href="mailing-lists.html" title="Mailing Lists"  class="dropdown-item ">Mailing Lists</a>
                            <a href="https://cwiki.apache.org/confluence/display/OPENMEETINGS/" title="Wiki"  class="dropdown-item ">Wiki</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown active">
                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Configuration <b class="caret"></b></a>
                        <div class="dropdown-menu">
                            <div class="dropdown-submenu">
                                <a  href="AsteriskIntegration.html#integration"  title="Integration"  class="dropdown-item active" >Integration</a>                                <div class="dropdown-menu">
                                    <a href="swagger" title="REST API Swagger" target="_blank" class="dropdown-item ">REST API Swagger</a>
                                    <a href="openmeetings-webservice/apidocs/index.html" title="SOAP/REST API JavaDoc" target="_blank" class="dropdown-item ">SOAP/REST API JavaDoc</a>
                                    <a href="RestAPISample.html" title="REST API Sample"  class="dropdown-item ">REST API Sample</a>
                                    <a href="LdapAndADS.html" title="Ldap and ADS"  class="dropdown-item ">Ldap and ADS</a>
                                    <a href="oauth2.html" title="OAuth2"  class="dropdown-item ">OAuth2</a>
                                    <a href="" title="VoIP and SIP"  class="dropdown-item active">VoIP and SIP</a>
                                    <a href="errorvalues.html" title="Errors table"  class="dropdown-item ">Errors table</a>
                                    <a href="CalDAVandGCal.html" title="CalDAV and Google Calendar integration"  class="dropdown-item ">CalDAV and Google Calendar integration</a>
                                    <a href="ExternalVideo.html" title="External Video/Camera"  class="dropdown-item ">External Video/Camera</a>
                                </div>
                            </div>
                            <div class="dropdown-submenu">
                                <a  href="AsteriskIntegration.html#plugins"  title="Plugins"  class="dropdown-item" >Plugins</a>                                <div class="dropdown-menu">
                                    <a href="MoodlePlugin.html" title="Moodle Plugin"  class="dropdown-item ">Moodle Plugin</a>
                                    <a href="SakaiPlugin.html" title="Sakai Plugin"  class="dropdown-item ">Sakai Plugin</a>
                                    <a href="JiraPlugin.html" title="Jira Plugin"  class="dropdown-item ">Jira Plugin</a>
                                    <a href="JoomlaPlugin.html" title="Joomla Plugin"  class="dropdown-item ">Joomla Plugin</a>
                                    <a href="DrupalPlugin.html" title="Drupal Plugin"  class="dropdown-item ">Drupal Plugin</a>
                                    <a href="BitrixPlugin.html" title="Bitrix Plugin"  class="dropdown-item ">Bitrix Plugin</a>
                                    <a href="ConfluencePlugin.html" title="Confluence Plugin"  class="dropdown-item ">Confluence Plugin</a>
                                    <a href="SugarCRMPlugin.html" title="SugarCRM Plugin"  class="dropdown-item ">SugarCRM Plugin</a>
                                    <a href="RedminePlugin.html" title="Redmine Plugin"  class="dropdown-item ">Redmine Plugin</a>
                                </div>
                            </div>
                            <div class="dropdown-submenu">
                                <a  href="AsteriskIntegration.html#db"  title="DB Sample Configurations"  class="dropdown-item" >DB Sample Configurations</a>                                <div class="dropdown-menu">
                                    <a href="H2Config.html" title="H2"  class="dropdown-item ">H2</a>
                                    <a href="IBMDB2Config.html" title="IBM DB2"  class="dropdown-item ">IBM DB2</a>
                                    <a href="OracleConfig.html" title="Oracle"  class="dropdown-item ">Oracle</a>
                                    <a href="MySQLConfig.html" title="MySQL"  class="dropdown-item ">MySQL</a>
                                    <a href="PostgresConfig.html" title="Postgres"  class="dropdown-item ">Postgres</a>
                                    <a href="MSSQLConfig.html" title="MSSQL"  class="dropdown-item ">MSSQL</a>
                                </div>
                            </div>
                            <div class="dropdown-submenu">
                                <a  href="AsteriskIntegration.html#localization"  title="Localization and languages"  class="dropdown-item" >Localization and languages</a>                                <div class="dropdown-menu">
                                    <a href="Internationalisation.html" title="Internationalisation"  class="dropdown-item ">Internationalisation</a>
                                    <a href="LanguageEditor.html" title="LanguageEditor"  class="dropdown-item ">LanguageEditor</a>
                                    <a href="TimeZoneHandling.html" title="TimeZoneHandling"  class="dropdown-item ">TimeZoneHandling</a>
                                    <a href="EditTemplates.html" title="EditTemplates"  class="dropdown-item ">EditTemplates</a>
                                </div>
                            </div>
                            <div class="dropdown-submenu">
                                <a  href="AsteriskIntegration.html#port"  title="NAT Port Settings"  class="dropdown-item" >NAT Port Settings</a>                                <div class="dropdown-menu">
                                    <a href="PortSettings.html" title="Port settings"  class="dropdown-item ">Port settings</a>
                                </div>
                            </div>
                            <div class="dropdown-submenu">
                                <a  href="AsteriskIntegration.html#performance"  title="Performance"  class="dropdown-item" >Performance</a>                                <div class="dropdown-menu">
                                    <a href="JVMPerformanceTuning.html" title="JVM performance tuning"  class="dropdown-item ">JVM performance tuning</a>
                                    <a href="NetworkCalculator.html" title="Network bandwidth calculator"  class="dropdown-item ">Network bandwidth calculator</a>
                                </div>
                            </div>
                            <div class="dropdown-submenu">
                                <a  href="AsteriskIntegration.html#interface"  title="User Interface"  class="dropdown-item" >User Interface</a>                                <div class="dropdown-menu">
                                    <a href="LogoAndIcons.html" title="Logo and icons"  class="dropdown-item ">Logo and icons</a>
                                    <a href="themes-and-branding.html" title="Themes"  class="dropdown-item ">Themes</a>
                                    <a href="Dashboard.html" title="Dashboard"  class="dropdown-item ">Dashboard</a>
                                    <a href="WebcamResolutions.html" title="Webcam resolutions"  class="dropdown-item ">Webcam resolutions</a>
                                    <a href="ConferenceRoomLayoutOptions.html" title="Room layout options"  class="dropdown-item ">Room layout options</a>
                                    <a href="HotKeys.html" title="Hot Keys"  class="dropdown-item ">Hot Keys</a>
                                </div>
                            </div>
                            <div class="dropdown-submenu">
                                <a  href="AsteriskIntegration.html#customize"  title="Customization"  class="dropdown-item" >Customization</a>                                <div class="dropdown-menu">
                                    <a href="WebappNamePath.html" title="Webapp name/path"  class="dropdown-item ">Webapp name/path</a>
                                    <a href="CalendarAndTimezone.html" title="Calendar and timezone"  class="dropdown-item ">Calendar and timezone</a>
                                    <a href="CustomRoomTypeHowTo.html" title="Custom room type"  class="dropdown-item ">Custom room type</a>
                                    <a href="CustomCryptMechanism.html" title="Custom crypt mechanism"  class="dropdown-item ">Custom crypt mechanism</a>
                                    <a href="GeneralConfiguration.html" title="General Configuration"  class="dropdown-item ">General Configuration</a>
                                    <a href="PrivacyStatement.html" title="Privacy Statement"  class="dropdown-item ">Privacy Statement</a>
                                </div>
                            </div>
                            <div class="dropdown-submenu">
                                <a  href="AsteriskIntegration.html#security"  title="Security"  class="dropdown-item" >Security</a>                                <div class="dropdown-menu">
                                    <a href="RestrictedAccess.html" title="Restricted Access"  class="dropdown-item ">Restricted Access</a>
                                    <a href="HTTPS.html" title="HTTPS"  class="dropdown-item ">HTTPS</a>
                                </div>
                            </div>
                            <div class="dropdown-submenu">
                                <a  href="AsteriskIntegration.html#convert"  title="Converters"  class="dropdown-item" >Converters</a>                                <div class="dropdown-menu">
                                    <a href="OpenOfficeConverter.html" title="OpenOffice Converter"  class="dropdown-item ">OpenOffice Converter</a>
                                </div>
                            </div>
                            <div class="dropdown-submenu">
                                <a  href="AsteriskIntegration.html#cluster"  title="Clustering"  class="dropdown-item" >Clustering</a>                                <div class="dropdown-menu">
                                    <a href="Clustering.html" title="Clustering"  class="dropdown-item ">Clustering</a>
                                </div>
                            </div>
                            <div class="dropdown-submenu">
                                <a  href="AsteriskIntegration.html#misc"  title="Misc"  class="dropdown-item" >Misc</a>                                <div class="dropdown-menu">
                                    <a href="GetVersionInfo.html" title="Get version info"  class="dropdown-item ">Get version info</a>
                                    <a href="FAQ.html" title="Frequently Asked Questions"  class="dropdown-item ">Frequently Asked Questions</a>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development <b class="caret"></b></a>
                        <div class="dropdown-menu">
                            <a href="scm.html" title="Source Code"  class="dropdown-item ">Source Code</a>
                            <a href="issue-management.html" title="Bugs / Issues"  class="dropdown-item ">Bugs / Issues</a>
                            <a href="dependencies.html" title="Dependencies"  class="dropdown-item ">Dependencies</a>
                            <a href="ci-management.html" title="Continuous Integration"  class="dropdown-item ">Continuous Integration</a>
                            <a href="BuildInstructions.html" title="Build Instructions"  class="dropdown-item ">Build Instructions</a>
                            <a href="JUnitTesting.html" title="JUnit Testing"  class="dropdown-item ">JUnit Testing</a>
                            <a href="ManualTesting.html" title="Manual Testing"  class="dropdown-item ">Manual Testing</a>
                            <a href="ReleaseGuide.html" title="Release Guide"  class="dropdown-item ">Release Guide</a>
                            <a href="WebsiteGuide.html" title="Website Guide"  class="dropdown-item ">Website Guide</a>
                        </div>
                    </li>
                </ul><!--/ul.navbar-nav -->
            </div><!--/.nav-collapse -->
</div> <!--/.container -->    </nav> <!--/.navbar -->
    <div class="main-body">
    <div class="header text-light bg-secondary" role="main">
        <div class="container container-fluid">
    <div id="banner" class="header--banner">
        <div class="row m-1">
          <div class="col-md-12">
            <div class="float-left header--banner--left bannerLeft">
                    <a href="index.html">
            <img class="float-left m-2 img-fluid" src="images/logo.png" alt="Apache OpenMeetings" />
            </a>
            </div>
            <div class="float-right header--banner--right bannerRight">
                    <a href="https://apache.org">
            <img class="float-left m-2 img-fluid" src="https://apache.org/img/asf_logo.png" alt="Apache" />
            </a>
            </div>
          </div>
        </div>
    </div>
        </div>
    </div> <!-- end : header -->
    <div class="row mt-5">
        <div class="d-xs-none d-sm-none d-md-none d-lg-block col-lg-2">
        </div>
        <main class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-8" role="main">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="publishDate version-date">    Last Published: 2023-02-14</li>
        </ol>
    </nav>
        <!--
Licensed under the Apache License, Version 2.0 (the "License") http://www.apache.org/licenses/LICENSE-2.0
-->
<section>
 <div class="page-header">
  <h1 id="voip-and-sip-integration">VoIP and SIP Integration</h1>
 </div>
 <p>There are multiple ways to integrate with VoIP and or SIP. OpenMeetings does not provide out of the box a ready to run VoIP integration / integration to cell phone or usual land lane. The nature of such integrations is that it depends heavily on the infrastructure that you are using and where you would like to integrate OpenMeetings into.</p>
 <p>It also depends on a number of factors of which OpenMeetings is impossible to set up for you, for example setting up your VoIP server or provide you with a range of telephone numbers reserved for conference calls in your national phone network. Such an integration project is likely to become a consulting job for a telecommunications consultant.</p>
 <p>To get help on the integration you can contact the <a href="mailing-lists.html">mailing lists</a> or for example somebody from the list of <a href="commercial-support.html">commercial support</a>.</p>
</section>
<section>
 <h1 id="asterisk-integration">Asterisk Integration</h1>
 <p>You need Apache OpenMeetings <strong>version 6.0+</strong> to apply this guide!</p>
 <p>You need Asterisk <strong>version 16+</strong> to apply this guide!</p>
 <p>Here is the instruction how-to set up integration between OpenMeetings and Asterisk on Ubuntu 18.04.</p>
 <section>
  <h2 id="prerequisites1">Prerequisites</h2>
  <div class="source">
   <pre><code>sudo apt update &amp;&amp; sudo apt upgrade
</code></pre>
  </div>
 </section>
 <section>
  <h2 id="building-and-setting-up-asterisk">Building and setting up Asterisk</h2>
  <div class="source">
   <pre><code>sudo apt install build-essential

sudo mkdir /usr/src/asterisk &amp;&amp; cd /usr/src/asterisk
sudo wget http://downloads.asterisk.org/pub/telephony/asterisk/releases/asterisk-18.12.1.tar.gz
sudo tar -xvzf asterisk-18.12.1.tar.gz
cd ./asterisk-18.12.1
sudo make clean
sudo contrib/scripts/install_prereq install
sudo ./configure
sudo make menuconfig
</code></pre>
  </div>
  <p>Make sure you have selected (<a href="https://wiki.asterisk.org/wiki/display/AST/Configuring+Asterisk+for+WebRTC+Clients" class="externalLink">Asterisk WebRTC Config</a>)</p>
  <ul>
   <li>Add-ons -&gt; res_config_mysql</li>
   <li>Codec Translators -&gt; codec_opus</li>
   <li>Resource Modules -&gt; res_crypto</li>
   <li>Resource Modules -&gt; res_http_websocket</li>
   <li>Resource Modules -&gt; res_pjsip_transport_websocket</li>
  </ul>
  <p>Press F12 to save</p>
  <div class="source">
   <pre><code>sudo make
sudo make install
sudo make samples
sudo make config

</code></pre>
  </div>
 </section>
 <section>
  <h2 id="configure-asterisk">Configure Asterisk</h2>
  <section>
   <h3 id="enable-asterisk-mysql-module">Enable asterisk MySQL module:</h3>
   <p>Modify <code>[modules]</code> section of <code>/etc/asterisk/modules.conf</code> <strong>Add/uncomment the following lines</strong></p>
   <div class="source">
    <pre><code>preload = res_config_mysql.so
</code></pre>
   </div>
   <p><strong>Remove/Comment following lines</strong></p>
   <div class="source">
    <pre><code>;noload = chan_sip.so
</code></pre>
   </div>
  </section>
  <section>
   <h3 id="configure-mysql-module">Configure MySQL module:</h3>
   <p>Set valid data for MySQL in <code>/etc/asterisk/res_config_mysql.conf</code>:</p>
   <p><strong>Example</strong></p>
   <div class="source">
    <pre><code>[general]
dbhost = 127.0.0.1
dbname = openmeetings
dbuser = om_db_admin
dbpass = 12345
dbport = 3306
dbsock = /var/lib/mysql/mysql.sock
dbcharset = utf8
requirements=warn
</code></pre>
   </div>
  </section>
  <section>
   <h3 id="configure-sip-module">Configure SIP module:</h3>
   <p>Modify <code>/etc/asterisk/sip.conf</code></p>
   <p><strong>Add/uncomment the following lines</strong></p>
   <div class="source">
    <pre><code>videosupport=yes
rtcachefriends=yes
</code></pre>
   </div>
   <p><strong>Increase maxexpiry value to 43200</strong></p>
   <div class="source">
    <pre><code>maxexpiry=43200
</code></pre>
   </div>
   <p><strong>Add user for the SIP Transport</strong></p>
   <div class="source">
    <pre><code>[omsip_user]
host=dynamic
secret=12345
context=rooms-omsip
transport=ws,wss
type=friend
encryption=no
avpf=yes
icesupport=yes
directmedia=no
allow=!all,opus,h264
</code></pre>
   </div>
  </section>
  <section>
   <h3 id="configure-extensions">Configure extensions:</h3>
   <p>Add next lines into the <code>/etc/asterisk/extconfig.conf</code>:</p>
   <div class="source">
    <pre><code>[settings]
sippeers =&gt; mysql,general,sipusers
</code></pre>
   </div>
   <p>Modify <code>/etc/asterisk/extensions.conf</code> <strong>Add the following section:</strong></p>
   <div class="source">
    <pre><code>; *****************************************************
; The below dial plan is used to dial into a Openmeetings Conference room
; The first line DB_EXISTS(openmeetings/room/ does not belong to the openmeetings application
; but is the name of astDB containing the astDB family/key pair and values
; To Check if your astDB has been created do the following in a terminal window type the following:
; asterisk –rx “database show”
; If you do not receive an output with that resembles openmeetings/rooms/400## where “##” will equal
; the extension assigned when you created your room
; If you do not receive the above output check your parameters in
; /opt/om/webapps/openmeetings/WEB-INF/classes/openmeetings.properties
; Go back into the Administrator Panel and remove the PIN number in each room save the record with
; no PIN number and then re-enter the pin again resave the record.
; *****************************************************

[rooms]
exten =&gt; _400X!,1,GotoIf($[${DB_EXISTS(openmeetings/rooms/${EXTEN})}]?ok:notavail)
exten =&gt; _400X!,n(ok),SET(PIN=${DB(openmeetings/rooms/${EXTEN})})
exten =&gt; _400X!,n,Set(CONFBRIDGE(user,template)=sip_user)
exten =&gt; _400X!,n,Set(CONFBRIDGE(user,pin)=${PIN})
exten =&gt; _400X!,n(ok),Confbridge(${EXTEN},default_bridge,)
exten =&gt; _400X!,n,Hangup
exten =&gt; _400X!,n(notavail),Answer()
exten =&gt; _400X!,n,Playback(invalid)
exten =&gt; _400X!,n,Hangup

[rooms-originate]
exten =&gt; _400X!,1,Confbridge(${EXTEN},default_bridge,sip_user)
exten =&gt; _400X!,n,Hangup

[rooms-out]
; *****************************************************
; Extensions for outgoing calls from Openmeetings room.
; *****************************************************

[rooms-omsip]
exten =&gt; _400X!,1,GotoIf($[${DB_EXISTS(openmeetings/rooms/${EXTEN})}]?ok:notavail)
exten =&gt; _400X!,n(ok),Confbridge(${EXTEN},default_bridge,omsip_user)
exten =&gt; _400X!,n(notavail),Hangup
</code></pre>
   </div>
  </section>
  <section>
   <h3 id="configure-confbridge">Configure Confbridge</h3>
   <p>Modify <code>/etc/asterisk/confbridge.conf</code></p>
   <p><strong>Add/Modify the following sections:</strong></p>
   <div class="source">
    <pre><code>[general]

[omsip_user]
type=user
marked=yes
dsp_drop_silence=yes
denoise=true

[sip_user]
type=user
end_marked=yes
wait_marked=yes
music_on_hold_when_empty=yes
dsp_drop_silence=yes
denoise=true

[default_bridge]
type=bridge
video_mode=follow_talker
</code></pre>
   </div>
  </section>
  <section>
   <h3 id="configure-asterisk-manager">Configure Asterisk Manager</h3>
   <p>To enable Asterisk Manager API modify <code>/etc/asterisk/manager.conf</code></p>
   <p><strong>Add/Modify the following sections:</strong></p>
   <div class="source">
    <pre><code>[general]
enabled = yes
webenabled = no
port = 5038
bindaddr = 127.0.0.1

[openmeetings]
secret = 12345
deny=0.0.0.0/0.0.0.0
permit=127.0.0.1/255.255.255.0
read = all
write = all
</code></pre>
   </div>
   <p>Update OpenMeetings with credentials for Asterisk manager. Modify <code>/opt/om/webapps/openmeetings/WEB-INF/classes/openmeetings.properties</code></p>
   <p>find all properties start with <code>sip.</code> and set it to your custom values.</p>
   <p style="font-size: larger; color: blue;">IMPORTANT: this step should be done <strong>BEFORE</strong> system install/restore otherwise all SIP related room information will be lost</p>
  </section>
  <section>
   <h3 id="configure-asterisks-built-in-http-server">Configure Asterisk's built-in HTTP server</h3>
   <p>To communicate with WebSocket clients, Asterisk uses its built-in HTTP server. Configure <code>/etc/asterisk/http.conf</code> as follows:</p>
   <div class="source">
    <pre><code>[general]
enabled=yes
bindaddr=127.0.0.1  ; or your Asterisk IP
bindport=8088
tlsenable=yes
tlsbindaddr=0.0.0.0:8089
tlscertfile=/etc/asterisk/keys/asterisk.crt
tlsprivatekey=/etc/asterisk/keys/asterisk.key
</code></pre>
   </div>
  </section>
  <section>
   <h3 id="configure-pjsip">Configure PJSIP</h3>
   <p>If you're not already familiar with configuring Asterisk's chan_pjsip driver, visit the res_pjsip configuration page.</p>
   <p>Modify <code>/etc/asterisk/pjsip.conf</code> as follows:</p>
   <div class="source">
    <pre><code>[transport-wss]
type=transport
protocol=wss
bind=0.0.0.0
; All other transport parameters are ignored for wss transports.
</code></pre>
   </div>
  </section>
 </section>
 <section>
  <h2 id="call-from-room-to-external-number">Call from room to external number</h2>
  <p>Modify <code>/etc/asterisk/sip.conf</code></p>
  <p><strong>Add your external provider</strong></p>
  <div class="source">
   <pre><code>register =&gt; tls://&lt;name&gt;:&lt;password&gt;@sipnet.ru

[SIPNET]
type=friend
username=&lt;name&gt;
secret=&lt;password&gt;
callerid=&lt;caller id&gt; ; can be commented out
host=sipnet.ru
nat=route
fromuser=&lt;fromuser&gt; ; can be commented out
fromdomain=sipnet.ru
dtmfmode=rfc2833
insecure=very
context=rooms
disallow=all
allow=alaw
canreinvite=no
callbackextension=&lt;extension for incoming calls&gt; ; can be commented out
</code></pre>
  </div>
  <p>Modify <code>/etc/asterisk/extensions.conf</code></p>
  <p><strong>Add external numbers you are going to call to [rooms-out] section</strong></p>
  <div class="source">
   <pre><code>[rooms-out]
; *****************************************************
; Extensions for outgoing calls from Openmeetings room.
; *****************************************************
exten =&gt; _00000,1,Answer
exten =&gt; _00000,n,Dial(SIP/00000@SIPNET,30)
exten =&gt; _00000s,n,HangUp
</code></pre>
  </div>
 </section>
</section>        </main>
        <div class="d-none d-sm-none d-md-none d-lg-none d-xl-block col-xl-2">
            <div id="m-toc-sidebar" class="d-print-none m-toc-sidebar-enabled m-toc-sidebar-expanded m-toc-sidebar-autoexpandable toc-sidebar-fixed">
                <nav id="m-toc-sidebar-nav flex-column">
                <ul class="m-nav--sidebar nav flex-column flex-nowrap">
    <li class="h1">
        <a class="nav-link" href="#voip-and-sip-integration" title="VoIP and SIP Integration">VoIP and SIP Integration</a>
    </li>
        <li class="h1">
        <a class="nav-link" href="#asterisk-integration" title="Asterisk Integration">Asterisk Integration</a>
    </li>
    <li class="h2">
        <a class="nav-link" href="#prerequisites1" title="Prerequisites">Prerequisites</a>
    </li>
    <li class="h2">
        <a class="nav-link" href="#building-and-setting-up-asterisk" title="Building and setting up Asterisk">Building and setting up Asterisk</a>
    </li>
    <li class="h2">
        <a class="nav-link" href="#configure-asterisk" title="Configure Asterisk">Configure Asterisk</a>
    </li>
    <ul class="nav flex-column flex-nowrap nav-collapsible">
            <li class="h3">
        <a class="nav-link" href="#enable-asterisk-mysql-module" title="Enable asterisk MySQL module:">Enable asterisk MySQL module:</a>
    </li>
    <li class="h3">
        <a class="nav-link" href="#configure-mysql-module" title="Configure MySQL module:">Configure MySQL module:</a>
    </li>
    <li class="h3">
        <a class="nav-link" href="#configure-sip-module" title="Configure SIP module:">Configure SIP module:</a>
    </li>
    <li class="h3">
        <a class="nav-link" href="#configure-extensions" title="Configure extensions:">Configure extensions:</a>
    </li>
    <li class="h3">
        <a class="nav-link" href="#configure-confbridge" title="Configure Confbridge">Configure Confbridge</a>
    </li>
    <li class="h3">
        <a class="nav-link" href="#configure-asterisk-manager" title="Configure Asterisk Manager">Configure Asterisk Manager</a>
    </li>
    <li class="h3">
        <a class="nav-link" href="#configure-asterisks-built-in-http-server" title="Configure Asterisk's built-in HTTP server">Configure Asterisk's built-in HTTP server</a>
    </li>
    <li class="h3">
        <a class="nav-link" href="#configure-pjsip" title="Configure PJSIP">Configure PJSIP</a>
    </li>
    </ul>
    <li class="h2">
        <a class="nav-link" href="#call-from-room-to-external-number" title="Call from room to external number">Call from room to external number</a>
    </li>
                    </ul>
                </nav>
           </div>
        </div>
    </div> <!-- row: end -->
</div> <!-- .main-body: end -->
    <div id="m_scrolltop" class="m-scrolltop">
		<i class="fa fa-arrow-up"></i>
    </div>
  <!-- Footer -->
<footer class="footer-light bg-light">
    <div class="container">
        <div class="row">
                        <div class="col bottom-nav">
                <ul class="nav flex-column nav-list">
                    <li class="nav-header">
General
                    </li>
                    <li class="nav-item "><a  href="index.html"  title="Home"  class="nav-link" >Home</a></li>
                    <li class="nav-item "><a  href="https://www.apache.org/licenses/"  title="License"   class="externalLink nav-link" >License</a></li>
                    <li class="nav-item "><a  href="https://www.apache.org/"  title="ASF"   class="externalLink nav-link" >ASF</a></li>
                    <li class="nav-item "><a  href="https://www.apache.org/foundation/sponsorship"  title="Sponsorship"   class="externalLink nav-link" >Sponsorship</a></li>
                    <li class="nav-item "><a  href="https://www.apache.org/foundation/thanks"  title="Thanks"   class="externalLink nav-link" >Thanks</a></li>
                    <li class="nav-item "><a  href="CallForLogo.html"  title="Call For Logo"  class="nav-link" >Call For Logo</a></li>
                    <li class="nav-item "><a  href="NewsArchive.html"  title="News archive"  class="nav-link" >News archive</a></li>
                    <li class="nav-item "><a  href="security.html"  title="Security"  class="nav-link" >Security</a></li>
                    <li class="nav-item "><a  href="commercial-support.html"  title="Commercial Support"  class="nav-link" >Commercial Support</a></li>
                </ul>
            </div>
            <div class="col bottom-nav">
                <ul class="nav flex-column nav-list">
                    <li class="nav-header">
Installation
                    </li>
                    <li class="nav-item "><a  href="installation.html"  title="Installation"  class="nav-link" >Installation</a></li>
                    <li class="nav-item "><a  href="Upgrade.html"  title="Upgrade"  class="nav-link" >Upgrade</a></li>
                    <li class="nav-item "><a  href="InstallMediaServer.html"  title="Media Server Installation"  class="nav-link" >Media Server Installation</a></li>
                    <li class="nav-item "><a  href="https://cwiki.apache.org/confluence/display/OPENMEETINGS/Tutorials+for+installing+OpenMeetings+and+Tools"  title="Tutorials"   class="externalLink nav-link" >Tutorials</a></li>
                    <li class="nav-item "><a  href="CommandLineAdmin.html"  title="Command Line Admin"  class="nav-link" >Command Line Admin</a></li>
                </ul>
            </div>
            <div class="col bottom-nav">
                <ul class="nav flex-column nav-list">
                    <li class="nav-header">
Community
                    </li>
                    <li class="nav-item "><a  href="get-involved.html"  title="Get Involved"  class="nav-link" >Get Involved</a></li>
                    <li class="nav-item "><a  href="team.html"  title="Committers"  class="nav-link" >Committers</a></li>
                    <li class="nav-item "><a  href="OurUsers.html"  title="Our Users"  class="nav-link" >Our Users</a></li>
                    <li class="nav-item "><a  href="mailing-lists.html"  title="Mailing Lists"  class="nav-link" >Mailing Lists</a></li>
                    <li class="nav-item "><a  href="https://cwiki.apache.org/confluence/display/OPENMEETINGS/"  title="Wiki"   class="externalLink nav-link" >Wiki</a></li>
                </ul>
            </div>
            <div class="col bottom-nav">
                <ul class="nav flex-column nav-list">
                    <li class="nav-header">
Development
                    </li>
                    <li class="nav-item "><a  href="scm.html"  title="Source Code"  class="nav-link" >Source Code</a></li>
                    <li class="nav-item "><a  href="issue-management.html"  title="Bugs / Issues"  class="nav-link" >Bugs / Issues</a></li>
                    <li class="nav-item "><a  href="dependencies.html"  title="Dependencies"  class="nav-link" >Dependencies</a></li>
                    <li class="nav-item "><a  href="ci-management.html"  title="Continuous Integration"  class="nav-link" >Continuous Integration</a></li>
                    <li class="nav-item "><a  href="BuildInstructions.html"  title="Build Instructions"  class="nav-link" >Build Instructions</a></li>
                    <li class="nav-item "><a  href="JUnitTesting.html"  title="JUnit Testing"  class="nav-link" >JUnit Testing</a></li>
                    <li class="nav-item "><a  href="ManualTesting.html"  title="Manual Testing"  class="nav-link" >Manual Testing</a></li>
                    <li class="nav-item "><a  href="ReleaseGuide.html"  title="Release Guide"  class="nav-link" >Release Guide</a></li>
                    <li class="nav-item "><a  href="WebsiteGuide.html"  title="Website Guide"  class="nav-link" >Website Guide</a></li>
                </ul>
            </div>
        </div> <!-- END: .row -->
    </div> <!-- END: .container -->
</footer>
  <div class="container subfooter text-center">
    <div class="row">
      <div class="col-md-12">
        <p class="copyright">Copyright &copy;2012-2023
                 <a href="https://apache.org">Apache Software Foundation</a>
. All Rights Reserved.</p>
      </div>
    </div>
  </div>

  <!-- Le javascript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
    <script src="./js/jquery.min.js" crossorigin="anonymous"></script>
    <script src="./js/popper.min.js" crossorigin="anonymous"></script>
    <script src="./js/bootstrap.min.js" crossorigin="anonymous"></script>

  <script src="./js/lightbox.min.js" crossorigin="anonymous"></script>
            	<script src="./js/highlight.min.js" crossorigin="anonymous"></script>
                    
<script src="https://www.apachecon.com/event-images/snippet.js"></script>        
<script src="./js/site.js" type="text/javascript"></script>        
<script src="./js/jquery-ui.min.js" type="text/javascript"></script>        
<script src="./js/netcalc.js" type="text/javascript"></script>        
<div class="text-center">Apache OpenMeetings, OpenMeetings, Apache, the Apache feather, and the Apache OpenMeetings project logo</div>        
<div class="text-center">are trademarks of the Apache Software Foundation.</div>        
<div class="text-center">
  <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy policy</a>
</div>  <script src="./js/reflow-skin.js" crossorigin="anonymous"></script>
    <script src="./js/anchor.min.js" crossorigin="anonymous"></script>
    </body>
</html>
